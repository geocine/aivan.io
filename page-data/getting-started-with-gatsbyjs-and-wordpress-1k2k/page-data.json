{"componentChunkName":"component---src-templates-post-js","path":"/getting-started-with-gatsbyjs-and-wordpress-1k2k/","webpackCompilationHash":"7dab3c869d8f6b448c36","result":{"data":{"allDevArticles":{"edges":[{"node":{"article":{"title":"Getting Started with GatsbyJS and WordPress","slug":"getting-started-with-gatsbyjs-and-wordpress-1k2k","body_html":"<p>Do you know how to create a static website with HTML, CSS, and JavaScript? I believe you have used WordPress once to create your own blog.</p>\n\n<p>You can use WordPress, without knowing how to create your own themes and plugins. There are a lot in the wild. But then it starts to get complicated once you start tinkering on things the way you want it to.</p>\n\n<p>What if there's a way to turn WordPress into an API or a data source in which you could pull content and display it anywhere?</p>\n\n<p>In this post, we will be setting up WordPress in Headless mode, create a basic HTML/CSS template, and use GatsbyJS to integrate our template with WordPress.</p>\n\n<h1>\n  <a name=\"wordpress\" href=\"#wordpress\" class=\"anchor\">\n  </a>\n  WordPress\n</h1>\n\n<p>I will assume you know how to install WordPress. If not, here is <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-WordPress-with-lamp-on-ubuntu-18-04\">a step by step guide</a>.</p>\n\n<p>To setup WordPress in <em>Headless</em> mode, we will need to install the following plugins:</p>\n\n<ul>\n<li>\n<a href=\"https://WordPress.org/plugins/wp-api-menus/\">WP API Menus</a> - This will expose the Menus as an API. The built-in WordPress API does not expose menus.</li>\n<li>\n<a href=\"https://WordPress.org/plugins/advanced-custom-fields/\">Advanced Custom Fields</a> - We would be able to create custom fields based on rules and be able to access it through an API</li>\n<li>\n<a href=\"https://WordPress.org/plugins/custom-post-type-ui/\">Custom Post Type UI</a> - Sometimes Pages and Posts are not enough, we would like to create custom posts like Products, Movies, etc. </li>\n<li>\n<a href=\"https://github.com/postlight/headless-wp-starter/tree/master/wordpress/wp-content/themes/postlight-headless-wp\">Postlight Headless Theme</a> - This theme will remove the Webpages on the client-facing frontend and will replace it with JSON.</li>\n</ul>\n\n<p>Running in Headless mode means we will still be using the WordPress Dashboard to manage content but we will be serving those through an API. Hence, we won't be using WordPress to show the generated content to our visitors.</p>\n\n<p>Make sure you have at least 1 post and 1 page on your WordPress site. Make sure at least 1 post has at least 1 tag. We will be using this for the latter part.</p>\n\n<h1>\n  <a name=\"htmlcss-template\" href=\"#htmlcss-template\" class=\"anchor\">\n  </a>\n  HTML/CSS Template\n</h1>\n\n<p>Now that we have a WordPress setup. Let us start creating the base template of our website. I will be using the <em>Holy Grail</em> layout from <a href=\"https://alligator.io/css/css-grid-holy-grail-layout/\">this article at Alligator.io</a></p>\n\n<blockquote>\n<p>Holy Grail is a layout pattern that’s very common on the web. It consists of a header, a main content area with fixed-width navigation on the left, content in the middle and a fixed-width sidebar on the right and then a footer.</p>\n</blockquote>\n\n<p>Here is the demo I built on Codepen.io. We will be using this as our layout on GatsbyJS.</p>\n\n<p><iframe height=\"600\" src=\"https://codepen.io/geocine/embed/wNVbeW?height=600&amp;default-tab=result&amp;embed-version=2\" scrolling=\"no\" frameborder=\"no\" allowtransparency=\"true\" style=\"width: 100%;\">\n</iframe>\n</p>\n\n<h1>\n  <a name=\"gatsbyjs\" href=\"#gatsbyjs\" class=\"anchor\">\n  </a>\n  GatsbyJS\n</h1>\n\n<p>If you are following this guide, I assume you have NodeJS setup on your machine. If not, here <a href=\"https://www.taniarascia.com/how-to-install-and-use-node-js-and-npm-mac-and-windows/\">is a step by step guide</a>. </p>\n\n<p>GatsbyJS is ReactJS under the hood so it would be easier to follow this if you have basic understanding of React or frontend frameworks in general. Here is a good starter to <a href=\"https://www.youtube.com/watch?v=JPT3bFIwJYA&amp;list=PL55RiY5tL51oyA8euSROLjMFZbXaV7skS\">ReactJS Basics</a> by <em>Maximilian Schwarzmüller</em>. Don't worry, you should still be able to follow this guide.</p>\n\n<h2>\n  <a name=\"setting-up-gatsbyjs\" href=\"#setting-up-gatsbyjs\" class=\"anchor\">\n  </a>\n  Setting up GatsbyJS\n</h2>\n\n<p>We will be using the <a href=\"https://www.gatsbyjs.org/starters/GatsbyCentral/gatsby-starter-wordpress/\">gatsby-starter-wordpress</a>. Here <code>gatsbyhg</code> is the name of our project, you may use any name you want.</p>\n\n\n<div class=\"ltag-github-readme-tag\">\n  <div class=\"readme-overview\">\n    <h2>\n      <img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--qF2jUiUG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/github-logo-6a5bca60a4ebf959a6df7f08217acd07ac2bc285164fae041eacb8a148b1bab9.svg\" alt=\"GitHub logo\" loading=\"lazy\">\n      <a href=\"https://github.com/GatsbyCentral\">\n        GatsbyCentral\n      </a> / <a style=\"font-weight: 600;\" href=\"https://github.com/GatsbyCentral/gatsby-starter-wordpress\">\n        gatsby-starter-wordpress\n      </a>\n    </h2>\n    <h3>\n      A GatsbyJS starter template that leverages the WordPress API, ACF and more\n    </h3>\n  </div>\n  <div class=\"ltag-github-body\">\n    \n<div id=\"readme\" class=\"instapaper_body md\" data-path=\"README.md\"><article class=\"markdown-body entry-content p-5\" itemprop=\"text\"><h1>\nGatsby v2 WordPress Starter</h1>\n<p>This starter is forked from the\n<a href=\"https://github.com/netlify-templates/gatsby-starter-netlify-cms\">gatsby-starter-netlify-cms</a>\nand modified to use WordPress instead of netlify-cms, using the <a href=\"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-source-wordpress\">gatsby-source-wordpress</a> plugin as the data connector.</p>\n<p>Demo: <a href=\"https://gatsby-starter-wordpress.netlify.com/\" rel=\"nofollow\">https://gatsby-starter-wordpress.netlify.com/</a></p>\n<blockquote>\n<p><strong>WARNING</strong>: Using <code>yarn upgrade</code> or <code>npm update</code> will break the site. See <a href=\"https://github.com/GatsbyCentral/gatsby-starter-wordpress/issues/36\">GatsbyCentral/gatsby-starter-wordpress#36</a> and <a href=\"https://github.com/gatsbyjs/gatsby/issues/10262\">gatsbyjs/gatsby#10262</a> for more info. Hopefully we'll have a resolution soon. - 19 Dec 2018</p>\n</blockquote>\n<h2>\nUse It Now</h2>\n<pre><code>gatsby new NAME https://github.com/GatsbyCentral/gatsby-starter-wordpress\n</code></pre>\n<ul>\n<li>Edit <code>gatsby-config.js</code>, change <code>baseUrl</code>\n<ul>\n<li>Make sure you have at least 1 post and 1 page on your WordPress site</li>\n<li>Make sure at least 1 post has at least 1 tag</li>\n</ul>\n</li>\n<li>Ensure the permalink structure in your WordPress installation is set to <code>Post Name</code> instead of the deafult <code>Plain</code>, or else the <code>gatsby-source-wordpress</code> plugin won't be able to communicate with WordPress</li>\n<li>Rejoice\n<ul>\n<li>For more information on the source plugin, check out the <a href=\"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-source-wordpress\">gatsby-source-wordpress</a> repository page</li>\n<li>File any <a href=\"https://github.com/GatsbyCentral/gatsby-starter-wordpress/issues\">issues here</a>\n</li>\n</ul>\n</li>\n</ul>\n<h3>\nKnown Limitations</h3>\n<ul>\n<li>This is based…</li>\n</ul></article></div>\n  </div>\n  <div class=\"gh-btn-container\"><a class=\"gh-btn\" href=\"https://github.com/GatsbyCentral/gatsby-starter-wordpress\">View on GitHub</a></div>\n</div>\n<br>\n\n\n<div class=\"highlight\"><pre class=\"highlight shell\"><code>npx gatsby new gatsbyhg https://github.com/GatsbyCentral/gatsby-starter-wordpress\n</code></pre></div>\n\n\n\n<p>You can preview what's on this gatsby starter template by running it<br>\n</p>\n\n<div class=\"highlight\"><pre class=\"highlight shell\"><code>yarn start\n</code></pre></div>\n\n\n\n<p>Then, navigate to <code>http://localhost:8000/</code></p>\n\n<h2>\n  <a name=\"connecting-to-our-wordpress-site\" href=\"#connecting-to-our-wordpress-site\" class=\"anchor\">\n  </a>\n  Connecting to our WordPress site\n</h2>\n\n<p>To connect to our WordPress site. Open the <code>gatsby-config.js</code> file. Look for <code>baseUrl</code>, modify it to point to your site without the <code>https://</code>. Start the project and check if the content displayed is indeed from your WordPress site.<br>\n</p>\n\n<div class=\"highlight\"><pre class=\"highlight plaintext\"><code>yarn start\n</code></pre></div>\n\n\n\n<h2>\n  <a name=\"integrating-our-htmlcss-template\" href=\"#integrating-our-htmlcss-template\" class=\"anchor\">\n  </a>\n  Integrating our HTML/CSS template\n</h2>\n\n<p>The <a href=\"https://www.gatsbyjs.org/starters/GatsbyCentral/gatsby-starter-wordpress/\">gatsby-starter-wordpress</a> already has a template built with it. We will replace this with our <em>Holy Grail</em> layout.</p>\n\n<p>First, let's edit the <code>src/components/Layout.js</code> to match our layout.<br>\nWe will be specifically modifying this portion:<br>\n</p>\n\n<div class=\"highlight\"><pre class=\"highlight html\"><code> <span class=\"nt\">&lt;div&gt;</span>\n   <span class=\"nt\">&lt;Helmet</span> <span class=\"na\">title=</span><span class=\"s\">\"Home | Gatsby + WordPress\"</span> <span class=\"nt\">/&gt;</span>\n   <span class=\"nt\">&lt;Navbar</span> <span class=\"nt\">/&gt;</span>\n   <span class=\"nt\">&lt;div&gt;</span>{children}<span class=\"nt\">&lt;/div&gt;</span>\n <span class=\"nt\">&lt;/div&gt;</span>\n</code></pre></div>\n\n\n\n<p>To this :<br>\n</p>\n\n<div class=\"highlight\"><pre class=\"highlight html\"><code>  <span class=\"nt\">&lt;div</span> <span class=\"na\">className=</span><span class=\"s\">\"layout\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;Helmet</span> <span class=\"na\">title=</span><span class=\"s\">\"Home | Gatsby + WordPress\"</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;header&gt;</span>Header<span class=\"nt\">&lt;/header&gt;</span>\n\n    <span class=\"nt\">&lt;Navbar</span> <span class=\"nt\">/&gt;</span>\n\n    <span class=\"nt\">&lt;main&gt;</span>{children}<span class=\"nt\">&lt;/main&gt;</span>\n\n    <span class=\"nt\">&lt;aside&gt;</span>Sidebar<span class=\"nt\">&lt;/aside&gt;</span>\n\n    <span class=\"nt\">&lt;footer&gt;</span>Footer<span class=\"nt\">&lt;/footer&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n</code></pre></div>\n\n\n\n<p>Next we add a CSS file called <code>style.css</code> under <code>src/components/</code> with the following content:<br>\n</p>\n\n<div class=\"highlight\"><pre class=\"highlight css\"><code><span class=\"c\">/* Layout */</span>\n\n<span class=\"nc\">.layout</span> <span class=\"p\">{</span>\n  <span class=\"nl\">display</span><span class=\"p\">:</span> <span class=\"n\">grid</span><span class=\"p\">;</span>\n\n  <span class=\"py\">grid-template-areas</span><span class=\"p\">:</span>\n    <span class=\"s1\">\"header header header\"</span>\n    <span class=\"s1\">\"nav content side\"</span>\n    <span class=\"s1\">\"footer footer footer\"</span><span class=\"p\">;</span>\n\n  <span class=\"py\">grid-template-columns</span><span class=\"p\">:</span> <span class=\"m\">200px</span> <span class=\"m\">1</span><span class=\"n\">fr</span> <span class=\"m\">200px</span><span class=\"p\">;</span>\n  <span class=\"py\">grid-template-rows</span><span class=\"p\">:</span> <span class=\"nb\">auto</span> <span class=\"m\">1</span><span class=\"n\">fr</span> <span class=\"nb\">auto</span><span class=\"p\">;</span>\n  <span class=\"py\">grid-gap</span><span class=\"p\">:</span> <span class=\"m\">10px</span><span class=\"p\">;</span>\n\n  <span class=\"nl\">height</span><span class=\"p\">:</span> <span class=\"m\">100vh</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nt\">header</span> <span class=\"p\">{</span>\n  <span class=\"py\">grid-area</span><span class=\"p\">:</span> <span class=\"n\">header</span><span class=\"p\">;</span>\n\n  <span class=\"nl\">display</span><span class=\"p\">:</span> <span class=\"n\">flex</span><span class=\"p\">;</span>\n  <span class=\"nl\">justify-content</span><span class=\"p\">:</span> <span class=\"n\">space-between</span><span class=\"p\">;</span>  \n<span class=\"p\">}</span>\n\n<span class=\"nt\">nav</span> <span class=\"p\">{</span>\n  <span class=\"py\">grid-area</span><span class=\"p\">:</span> <span class=\"n\">nav</span><span class=\"p\">;</span>\n  <span class=\"nl\">margin-left</span><span class=\"p\">:</span> <span class=\"m\">0.5rem</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nt\">main</span> <span class=\"p\">{</span>\n  <span class=\"py\">grid-area</span><span class=\"p\">:</span> <span class=\"n\">content</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nt\">aside</span> <span class=\"p\">{</span>\n  <span class=\"py\">grid-area</span><span class=\"p\">:</span> <span class=\"n\">side</span><span class=\"p\">;</span>\n  <span class=\"nl\">margin-right</span><span class=\"p\">:</span> <span class=\"m\">0.5rem</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nt\">footer</span> <span class=\"p\">{</span>\n  <span class=\"py\">grid-area</span><span class=\"p\">:</span> <span class=\"n\">footer</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* Theme */</span>\n<span class=\"c\">/* This is optional, you can use your own style for this */</span>\n\n<span class=\"nt\">body</span> <span class=\"p\">{</span>\n  <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n  <span class=\"nl\">margin</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n  <span class=\"nl\">font-family</span><span class=\"p\">:</span> <span class=\"n\">-apple-system</span><span class=\"p\">,</span><span class=\"n\">system-ui</span><span class=\"p\">,</span><span class=\"n\">BlinkMacSystemFont</span><span class=\"p\">,</span><span class=\"s1\">\"Segoe UI\"</span><span class=\"p\">,</span><span class=\"n\">Roboto</span><span class=\"p\">,</span><span class=\"s1\">\"Helvetica Neue\"</span><span class=\"p\">,</span><span class=\"n\">Arial</span><span class=\"p\">,</span><span class=\"nb\">sans-serif</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nt\">header</span> <span class=\"p\">{</span>\n  <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">18px</span><span class=\"p\">;</span>\n  <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"m\">#fff</span><span class=\"p\">;</span>\n  <span class=\"nl\">min-height</span><span class=\"p\">:</span> <span class=\"m\">20px</span><span class=\"p\">;</span>\n  <span class=\"nl\">background</span><span class=\"p\">:</span> <span class=\"m\">#0a2b4e</span><span class=\"p\">;</span>\n  <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">20px</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nt\">nav</span><span class=\"o\">,</span>\n<span class=\"nt\">aside</span> <span class=\"p\">{</span>\n  <span class=\"nl\">background</span><span class=\"p\">:</span> <span class=\"m\">#666</span><span class=\"p\">;</span>\n  <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">10px</span><span class=\"p\">;</span>\n  <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"m\">#fff</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nt\">footer</span> <span class=\"p\">{</span>\n  <span class=\"nl\">background</span><span class=\"p\">:</span> <span class=\"no\">black</span><span class=\"p\">;</span>\n  <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"m\">#fff</span><span class=\"p\">;</span>\n  <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">20px</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.navbar-item</span> <span class=\"p\">{</span>\n  <span class=\"nl\">display</span><span class=\"p\">:</span> <span class=\"n\">inline-block</span><span class=\"p\">;</span>\n  <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"m\">#fff</span><span class=\"p\">;</span>\n  <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">10px</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.navbar-item</span> <span class=\"nt\">img</span> <span class=\"p\">{</span>\n  <span class=\"nl\">height</span><span class=\"p\">:</span> <span class=\"m\">20px</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.pagination</span> <span class=\"p\">{</span>\n  <span class=\"nl\">margin</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n  <span class=\"nl\">background</span><span class=\"p\">:</span> <span class=\"no\">black</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.pagination</span> <span class=\"nt\">a</span> <span class=\"p\">{</span>\n  <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"m\">#fff</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n</code></pre></div>\n\n\n\n<p>Modify style imports on  <code>src/components/Layout.js</code><br>\n</p>\n\n<div class=\"highlight\"><pre class=\"highlight javascript\"><code><span class=\"k\">import</span> <span class=\"dl\">'</span><span class=\"s1\">./style.css</span><span class=\"dl\">'</span> <span class=\"c1\">// add this</span>\n<span class=\"k\">import</span> <span class=\"dl\">'</span><span class=\"s1\">./style/all.sass</span><span class=\"dl\">'</span> <span class=\"c1\">// remove this, we won't be needing this anymore</span>\n</code></pre></div>\n\n\n\n<p>You can view the <a href=\"https://gatsbyhg.netlify.com/\">demo</a> here. The source code is <a href=\"https://github.com/geocine/gatsbyhg\">here</a>.</p>\n\n"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":85492}}}